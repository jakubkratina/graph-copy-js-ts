"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var n=t(require("yargs")),r=t(require("fs"));function e(){return(e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}var i=function(t,n){var r=t.entities.find(function(t){return t.entity_id===n});if(void 0===r)throw new Error("The entity "+n+" does not exist.");return r},o=function(t,n){var r=i(t,n),e=a(t,r);return f(t,e,r),u(t,r,e),t},u=function t(n,r,e){var o=function(t,n){return t.links.filter(function(t){return t.from===n.entity_id})}(n,r);o.length&&o.forEach(function(r){var o=i(n,r.to),u=a(n,o);n.links.push({from:e.entity_id,to:u.entity_id}),t(n,o,u)})},f=function(t,n,r){(function(t,n){return t.links.filter(function(t){return t.to===n.entity_id})})(t,r).forEach(function(r){t.links.push({from:r.from,to:n.entity_id})})},s=function(t){return t.entities[t.entities.length-1].entity_id+1},a=function(t,n){var r=e({},n,{},{entity_id:s(t)});return t.entities.push(r),r},c=function(t,n){if(!r.existsSync(t))throw new Error("The input file "+t+" does not exist.");var e=function(t){return JSON.parse(r.readFileSync(t,"utf8"))}(t);if(!i(e,n))throw new Error("The entity "+n+" does not exist.");return e};n.usage("Usage: <inputfile> <entityid>").demandCommand(2);var d=n.argv._[0],l=parseInt(n.argv._[1]);console.log(o(c(d,l),l));
//# sourceMappingURL=workspan-1.cjs.production.min.js.map
